(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery){
!function(a,b){"use strict";function c(e,f){var g,h,i=e.$table,j=a(f.cssStickyHeaders_attachTo),k="ActiveXObject"in b||b.navigator.userAgent.indexOf("Edge")>-1,l=e.namespace+"cssstickyheader ",m=i.children("thead"),n=i.children("caption"),o=j.length?j:a(b),p=i.parent().closest("table."+d.css.table),q=p.length&&d.hasWidget(p[0],"cssStickyHeaders")?p.children("thead"):[],r=parseInt(i.css("border-top-width"),10)||0,s=i.height(),t=f.cssStickyHeaders_addCaption,u=!1,v=!1,w=function(a,b){var c=0===b?"":"translate(0px,"+b+"px)";a.css({transform:c,"-ms-transform":c,"-webkit-transform":c})};n.length&&(n.hide(),v=i.height()===s,n.show(),g=i.offset().top,w(n,20),u=i.offset().top!==g,w(n,0)),o.unbind("scroll resize ".split(" ").join(l).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(l),function(){f=e.widgetOptions,u&&(w(n,0),h=i.offset().top),o.scrollTop()<n.outerHeight(!0)&&(s=i.height());var a=j.length?j.offset().top:o.scrollTop(),b=(n.outerHeight(!0)||0)+(parseInt(i.css("padding-top"),10)||0)+(parseInt(i.css("border-spacing"),10)||0),c=s+(v&&f.cssStickyHeaders_addCaption?b:0)-m.height()-(i.children("tfoot").height()||0)-(f.cssStickyHeaders_addCaption?b:v?0:b),d=q.length?q.height():0,g=q.length?k?p.data("cssStickyHeaderBottom")+d:q.offset().top+d-o.scrollTop():0,l=u?h:i.offset().top,x=v?l-(f.cssStickyHeaders_addCaption?b:0):l,y=a-x+g+r+(f.cssStickyHeaders_offset||0)-(f.cssStickyHeaders_addCaption?v?b:0:b),z=y>0&&y<=c?y:0,A=k?m.children().children():m;k&&e.$table.data("cssStickyHeaderBottom",(q.length?d:0)-(f.cssStickyHeaders_addCaption?b:0)),f.cssStickyHeaders_addCaption&&(A=A.add(n)),t!==f.cssStickyHeaders_addCaption&&((t=f.cssStickyHeaders_addCaption)||w(n,0)),w(A,z)}),i.unbind("filterEnd updateComplete ".split(" ").join(l).replace(/\s+/g," ")).bind("filterEnd"+l,function(){f.cssStickyHeaders_filteredToTop&&b.scrollTo(0,i.position().top)}).bind("updateComplete"+l,function(){c(e,e.widgetOptions)})}var d=a.tablesorter;d.addWidget({id:"cssStickyHeaders",priority:10,options:{cssStickyHeaders_offset:0,cssStickyHeaders_addCaption:!1,cssStickyHeaders_attachTo:null,cssStickyHeaders_filteredToTop:!0},init:function(a,b,d,e){c(d,e)},remove:function(c,d,e,f){if(!f){var g=d.namespace+"cssstickyheader ";a(b).unbind("scroll resize ".split(" ").join(g).replace(/\s+/g," ")),d.$table.unbind("filterEnd scroll resize updateComplete ".split(" ").join(g).replace(/\s+/g," ")).add(d.$table.children("thead").children().children()).children("thead, caption").css({transform:"","-ms-transform":"","-webkit-transform":""})}}})}(jQuery,window);return jQuery;}));
