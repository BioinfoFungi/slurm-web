(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery){
!function(a){"use strict";function b(b){var c=d.storage(b.table,"tablesorter-savesort");return c&&c.hasOwnProperty("sortList")&&a.isArray(c.sortList)?c.sortList:[]}function c(a,c){return(c||b(a)).join(",")!==a.sortList.join(",")}var d=a.tablesorter||{};d.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(a,b,c,d){b.format(a,c,d,!0)},format:function(a,e,f,g){var h,i=e.$table,j=!1!==f.saveSort,k={sortList:e.sortList},l=d.debug(e,"saveSort");l&&(h=new Date),i.hasClass("hasSaveSort")?j&&a.hasInitialized&&d.storage&&c(e)&&(d.storage(a,"tablesorter-savesort",k),l&&console.log("saveSort >> Saving last sort: "+e.sortList+d.benchmark(h))):(i.addClass("hasSaveSort"),k="",d.storage&&(k=b(e),l&&console.log('saveSort >> Last sort loaded: "'+k+'"'+d.benchmark(h)),i.bind("saveSortReset",function(b){b.stopPropagation(),d.storage(a,"tablesorter-savesort","")})),g&&k&&k.length>0?e.sortList=k:a.hasInitialized&&k&&k.length>0&&c(e,k)&&d.sortOn(e,k))},remove:function(a,b){b.$table.removeClass("hasSaveSort"),d.storage&&d.storage(a,"tablesorter-savesort","")}})}(jQuery);return jQuery;}));
